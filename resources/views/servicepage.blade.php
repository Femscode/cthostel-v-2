<!DOCTYPE html>

<head>
	<title>CTHostel Services</title>
	<meta charset="utf-8" />
	<meta name="description" content="CTHostel Services" />
	<meta name="keywords" content="CThostel services" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta property="og:locale" content="en_US" />
	<meta name="csrf-token" content="{{ csrf_token() }}">
	<meta property="og:type" content="article" />
	<meta property="og:title" content="CThostel services" />
	<meta property="og:url" content="https://cthostel.com" />
	<meta property="og:site_name" content="CTHostel" />
	<link rel="canonical" href="https://cthostel.com" />
	<link href="{{ asset('backend/plugins/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet') }}"
		type="text/css" />

	<link href="{{ asset('backend/plugins/global/plugins.bundle.css') }}" rel="stylesheet" type="text/css" />
	<link href="{{ asset('backend/css/style.bundle.css') }}" rel="stylesheet" type="text/css" />
	<!--Begin::Google Tag Manager -->
	<script>
		(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&amp;l='+l:'';j.async=true;j.src= 'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-5FS8GGP');
	</script>
	<!--End::Google Tag Manager -->
</head>
<!--end::Head-->
<!--begin::Body-->

<body id="kt_body"
	class="dark-mode header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fixed aside-enabled aside-fixed"
	style="--kt-toolbar-height:55px;--kt-toolbar-height-tablet-and-mobile:55px">
	<!--begin::Main-->
	<!--begin::Root-->
	<div class="d-flex flex-column flex-root">
		<!--begin::Page-->
		<div class="page d-flex flex-row flex-column-fluid">
			<!--begin::Aside-->
			<div id="kt_aside" class="aside aside-dark aside-hoverable" data-kt-drawer="true"
				data-kt-drawer-name="aside" data-kt-drawer-activate="{default: true, lg: false}"
				data-kt-drawer-overlay="true" data-kt-drawer-width="{default:'200px', '300px': '250px'}"
				data-kt-drawer-direction="start" data-kt-drawer-toggle="#kt_aside_mobile_toggle">
				<!--begin::Brand-->
				<div class="aside-logo flex-column-auto" id="kt_aside_logo">
					<!--begin::Logo-->

					<!--end::Logo-->
					<!--begin::Aside toggler-->
					<div id="kt_aside_toggle" class="btn btn-icon w-auto px-0 btn-active-color-primary aside-toggle"
						data-kt-toggle="true" data-kt-toggle-state="active" data-kt-toggle-target="body"
						data-kt-toggle-name="aside-minimize">
						<!--begin::Svg Icon | path: icons/duotune/arrows/arr079.svg-->
						<span class="svg-icon svg-icon-1 rotate-180">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
								fill="none">
								<path opacity="0.5"
									d="M14.2657 11.4343L18.45 7.25C18.8642 6.83579 18.8642 6.16421 18.45 5.75C18.0358 5.33579 17.3642 5.33579 16.95 5.75L11.4071 11.2929C11.0166 11.6834 11.0166 12.3166 11.4071 12.7071L16.95 18.25C17.3642 18.6642 18.0358 18.6642 18.45 18.25C18.8642 17.8358 18.8642 17.1642 18.45 16.75L14.2657 12.5657C13.9533 12.2533 13.9533 11.7467 14.2657 11.4343Z"
									fill="black" />
								<path
									d="M8.2657 11.4343L12.45 7.25C12.8642 6.83579 12.8642 6.16421 12.45 5.75C12.0358 5.33579 11.3642 5.33579 10.95 5.75L5.40712 11.2929C5.01659 11.6834 5.01659 12.3166 5.40712 12.7071L10.95 18.25C11.3642 18.6642 12.0358 18.6642 12.45 18.25C12.8642 17.8358 12.8642 17.1642 12.45 16.75L8.2657 12.5657C7.95328 12.2533 7.95328 11.7467 8.2657 11.4343Z"
									fill="black" />
							</svg>
						</span>
						<!--end::Svg Icon-->
					</div>
					<!--end::Aside toggler-->
				</div>
				<!--end::Brand-->

				<!--end::Aside menu-->
				<!--begin::Footer-->

				<!--end::Footer-->
			</div>
			<!--end::Aside-->
			<!--begin::Wrapper-->
			<div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
				<!--begin::Header-->
				<div id="kt_header" style="" class="header align-items-stretch">
					<!--begin::Container-->
					<div class="container-fluid d-flex align-items-stretch justify-content-between">

						<img src='https://cthostel.com/myimages/logo_header.png' width='150' height='33'>
					</div>
					<!--end::Container-->
				</div>
				<!--end::Header-->
				<!--begin::Content-->
				<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
					<!--begin::Toolbar-->
				
					<!--end::Toolbar-->
					<!--begin::Post-->

					<div class="post d-flex flex-column-fluid" id="kt_post">
						<!--begin::Container-->
						<div id="kt_content_container" class="container-xxl">
							<!--begin::Navbar-->

							<!--begin::Basic info-->
							<div class="card mb-5 mb-xl-10">
								<div
									class="notice d-flex bg-light-warning rounded border-warning border border-dashed p-6">
									<!--begin::Icon-->
									<!--begin::Svg Icon | path: icons/duotune/general/gen044.svg-->
									<span class="svg-icon svg-icon-2tx svg-icon-warning me-4">
										<svg width="24" height="24" viewBox="0 0 24 24" fill="none"
											xmlns="http://www.w3.org/2000/svg">
											<rect opacity="0.3" x="2" y="2" width="20" height="20" rx="10"
												fill="currentColor"></rect>
											<rect x="11" y="14" width="7" height="2" rx="1"
												transform="rotate(-90 11 14)" fill="currentColor"></rect>
											<rect x="11" y="17" width="2" height="2" rx="1"
												transform="rotate(-90 11 17)" fill="currentColor"></rect>
										</svg>
									</span>
									<!--end::Svg Icon-->
									<!--end::Icon-->
									<!--begin::Wrapper-->
									<div class="d-flex flex-stack flex-grow-1">
										<!--begin::Content-->
										<div class="fw-semibold">
											<h4 class="text-gray-900 fw-bold">Hire technician/service!</h4>
											<div class="fs-6 text-gray-700">Select appropriately below
											</div>
										</div>
										<!--end::Content-->
									</div>
									<!--end::Wrapper-->
								</div>

								<!--begin::Content-->
								<div id="kt_account_settings_profile_details" class="collapse show">
									<div class="overlay">
										<!--begin::Image-->
										<img class="w-100 card-rounded" src="/assets/images/cbanner.jpg" alt="">
										<!--end::Image-->
										<!--begin::Links-->

										<!--end::Links-->
									</div>
									<!--begin::Form-->
									<form id="search_technician" class="form">
										<!--begin::Card body-->
										<div class="card-body border-top p-9">

											<div class="row mb-6">

												<div class="col-lg-8 fv-row">
													<select id="school_id" required name="country"
														aria-label="Select Institution" data-control="select2"
														data-placeholder="Select your institution..."
														class="sch_id form-select form-select-solid form-select-lg fw-bold">
														<option value="">Select your institution...</option>
														@foreach($schools as $school)
														<option value="{{$school->id}}">{{$school->name}}</option>
														@endforeach
													</select>
												</div>
												<!--end::Col-->
											</div>
											<div class="row mb-6">

												<div class="col-lg-8 fv-row">
													<select id="school_location" name="location"
														aria-label="Select Location" data-control="select2"
														data-placeholder="Select your location..."
														class="form-select form-select-solid form-select-lg fw-bold">
														<option value="">Select your location...</option>
														<option data-kt-flag="flags/afghanistan.svg" value="AF">Location
														</option>
													</select>
												</div>
												<!--end::Col-->
											</div>

											<div class="row mb-6">

												<div class="col-lg-8 fv-row">
													<select name="service" aria-label="Select Service"
														data-control="select2" id='service_type'
														data-placeholder="Select service..."
														class="form-select form-select-solid form-select-lg fw-bold">
														<option value="">Your Location</option>
														<option value=''>Select Service You Render</option>
														<option value='Electrician'>Electrician</option>
														<option value='Painter'>Painter</option>
														<option value='Plumber'>Plumber</option>
														<option value='Mechanic'>Mechanic</option>
														<option value='A.C Technician'>A.C Technician</option>
														<option value='Phone Engineer'>Phone Engineer</option>
														<option value='Laptop Engineer'>Laptop Engineer</option>
														<option value='Kitchen Appliances Engineer'>Kitchen Appliances
															Engineer</option>
														<option value='TV/Playstation Engineer'>TV/Playstation Engineer
														</option>
														<option value='Washing Machine Specialist'>Washing Machine
															Specialist</option>
														<option value='Cleaning Service'>Cleaning Service</option>

													</select>
												</div>
												<!--end::Col-->
											</div>
										</div>

										<!--end::Card body-->
										<!--begin::Actions-->
										<div class="card-footer d-flex justify-content-end py-6 px-9">
											<button type="reset"
												class="btn btn-light btn-active-light-primary me-2">Discard</button>
											<button type="submit" id='search_btn' class="btn btn-primary"
												id="kt_account_profile_details_submit">Search</button>
										</div>
										<!--end::Actions-->
									</form>
									<!--end::Form-->
								</div>
								<!--end::Content-->
							</div>

							<div class="col-xl-12">
								<!--begin::Tables Widget 9-->
								<div class="card card-xl-stretch mb-5 mb-xl-12">
									<!--begin::Header-->
									<div class="card-header border-0 pt-5">
										<h3 class="card-title align-items-start flex-column">
											<span class="card-label fw-bolder fs-3 mb-1">Technicians Found</span>
											{{-- <span class="text-muted mt-1 fw-bold fs-7">Over 50+ </span> --}}
										</h3>

									</div>
									<!--end::Header-->
									<!--begin::Body-->
									<div class="card-body py-3">
										<!--begin::Table container-->
										<div class="table-responsive">
											<!--begin::Table-->
											<table
												class="table table-row-dashed table-row-gray-300 align-middle gs-0 gy-4">
												<!--begin::Table head-->
												<thead>
													<tr class="fw-bolder text-muted">
														<th class="w-25px">
															#
														</th>
														<th class="min-w-150px">Name</th>

														<th class="min-w-100px text-end">Actions</th>
													</tr>
												</thead>
												<!--end::Table head-->
												<!--begin::Table body-->
												<tbody id='table_name'>

													<tr>
														<td>

														</td>
														<td>
															<div class="d-flex align-items-center">


															</div>
														</td>

														<td>
															<div class="d-flex justify-content-end flex-shrink-0">
															</div>
														</td>
													</tr>
												</tbody>
												<!--end::Table body-->
											</table>
											<!--end::Table-->
										</div>
										<!--end::Table container-->
									</div>
									<!--begin::Body-->
								</div>
								<!--end::Tables Widget 9-->
							</div>

						</div>
						<!--end::Container-->
					</div>
					<!--end::Post-->
				</div>
				<!--end::Content-->
				<!--begin::Footer-->
				<div class="footer py-4 d-flex flex-lg-column" id="kt_footer">
					<!--begin::Container-->
					<div
						class="container-fluid d-flex flex-column flex-md-row align-items-center justify-content-between">
						<!--begin::Copyright-->
						<div class="text-dark order-2 order-md-1">
							<span class="text-muted fw-bold me-1">2021Â©</span>
							<a href="https://cthostel.com" target="_blank"
								class="text-gray-800 text-hover-primary">CTHostel</a>
						</div>
						<!--end::Copyright-->
						<!--begin::Menu-->
						<ul class="menu menu-gray-600 menu-hover-primary fw-bold order-1">
							<li class="menu-item">
								<a href="https://cthostel.com/welcomepage" target="_blank"
									class="menu-link px-2">About</a>
							</li>
							<li class="menu-item">
								<a href="https://cthostel.com/faq" target="_blank" class="menu-link px-2">FAQ</a>
							</li>
							<li class="menu-item">
								<a href="https://cthostel.com/faq" target="_blank" class="menu-link px-2">Suppport</a>
							</li>
						</ul>
						<!--end::Menu-->
					</div>
					<!--end::Container-->
				</div>
				<!--end::Footer-->
			</div>
			<!--end::Wrapper-->
		</div>
		<!--end::Page-->
	</div>
	<!--end::Root-->
	<!--begin::Drawers-->
	<!--begin::Activities drawer-->
	<div id="kt_activities" class="bg-body" data-kt-drawer="true" data-kt-drawer-name="activities"
		data-kt-drawer-activate="true" data-kt-drawer-overlay="true"
		data-kt-drawer-width="{default:'300px', 'lg': '900px'}" data-kt-drawer-direction="end"
		data-kt-drawer-toggle="#kt_activities_toggle" data-kt-drawer-close="#kt_activities_close">
		<div class="card shadow-none rounded-0">
			<!--begin::Header-->
			<div class="card-header" id="kt_activities_header">
				<h3 class="card-title fw-bolder text-dark">Activity Logs</h3>
				<div class="card-toolbar">
					<button type="button" class="btn btn-sm btn-icon btn-active-light-primary me-n5"
						id="kt_activities_close">
						<!--begin::Svg Icon | path: icons/duotune/arrows/arr061.svg-->
						<span class="svg-icon svg-icon-1">
							<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
								fill="none">
								<rect opacity="0.5" x="6" y="17.3137" width="16" height="2" rx="1"
									transform="rotate(-45 6 17.3137)" fill="black" />
								<rect x="7.41422" y="6" width="16" height="2" rx="1" transform="rotate(45 7.41422 6)"
									fill="black" />
							</svg>
						</span>
						<!--end::Svg Icon-->
					</button>
				</div>
			</div>

		</div>
	</div>

	<script src="{{ asset('backend/plugins/global/plugins.bundle.js') }}"></script>
	<script src="{{ asset('backend/js/scripts.bundle.js') }}"></script>

	<!--end::Global Javascript Bundle-->
	<!--begin::Page Vendors Javascript(used by this page)-->
	<script src="{{ asset('backend/plugins/custom/fullcalendar/fullcalendar.bundle.js') }}"></script>
	<!--end::Page Vendors Javascript-->
	<!--begin::Page Custom Javascript(used by this page)-->
	<script src="{{ asset('backend/js/custom/widgets.js') }}"></script>
	<script src="{{ asset('backend/js/custom/apps/chat/chat.js') }}"></script>
	<script src="{{ asset('backend/js/custom/modals/create-app.js') }}"></script>
	<script src="{{ asset('backend/js/custom/modals/upgrade-plan.js') }}"></script>
	<script src="{{ asset('backend/js/custom/intro.js') }}"></script>
	<!--begin::Global Javascript Bundle(used by all pages)-->
	<script src="{{ asset('assets2/plugins/global/plugins.bundle.js') }}"></script>
	<script src="{{ asset('assets2/js/scripts.bundle.js') }}"></script>
	<script src="{{ asset('js/sweetalert/dist/sweetalert.min.js') }}"></script>

	<script src="{{ asset('js/sweetalert/dist/sweetalert.min.js') }}"></script>
	<script src="{{ asset('js\requestController.js') }}"></script>
	<script src="{{ asset('js\formController.js') }}"></script>



	<script src="{{ asset('assets2/js/custom/widgets.js') }}"></script>
	<script src="{{ asset('assets2/js/custom/apps/chat/chat.js') }}"></script>
	<script src="{{ asset('assets2/js/custom/modals/create-app.js') }}"></script>
	<script src="{{ asset('assets2/js/custom/modals/upgrade-plan.js') }}"></script>
	<script src="{{ asset('assets2/js/custom/intro.js') }}"></script>
	<script>
		$(document).ready(function() {
             
              $("#school_id").on('change',function() {
				  Swal.fire('fetching location...')
             var id = $(".sch_id").val();
                $("#school_location").empty();
                    $.get('{{ route('getlocation') }}?id=' + id, function (data) {
						swal.close()
                    console.log(data,'the locations')
           for (var index = 0; index <= data.length - 1; index++) {
              $('#school_location').append('<option value="' + data[index].id + '">' + data[index].name + '</option>');
           }
              
            })
            })

            $.ajaxSetup({
                        headers: {
                            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                        }
            });
                   
                       
				//    $("#search_technician").submit(async function(e) {
				   $("#service_type").on('change',async function(e) {
                       e.preventDefault()
					   if($("#school_id").val().length == 0){
						Swal.fire('Please select an institution')
					   }
					   var technician = $("#service_type").val()
					   Swal.fire('Fetching '+technician+' closer to you, please wait...')
                             $("#search_btn").attr('disabled',true);
                            var fd = new FormData();

                            // Append data 
                            fd.append('school_id', $("#school_id").val());
                           
                            fd.append('location_id', $("#school_location").val());
                            fd.append('service_type', $("#service_type").val());

                            console.log(fd, 'this is the fd');

                            $.ajax({
                                type: 'POST',
                                url: "{{route('searchtechnician')}}",
                                data: fd,
                                cache: false,
                                contentType: false,
                                processData: false,
                                success: (data) => {
									swal.close()
                                    $("#search_btn").attr('disabled',false);
                                    $('#table_name').empty();
                                    $.each(data, function (key, value) 
  {
	var count = key + 1 
console.log(count, data)
     $('#table_name').append(
         
    //   '<tr> <td>' + value.name + '</td>  <td>' + value.phone + '</td>  </tr>'

'<tr><td>'+count+'</td><td><div class="d-flex align-items-center"><div class="d-flex justify-content-start flex-column"><a href="#" class="text-dark fw-bolder text-hover-primary fs-6">'+value.name+'</a></div></div></td><td><div class="d-flex justify-content-end flex-shrink-0"><a href="/messagetechnician/'+value.phone+'" style="color:white" class="btn btn-bg-success btn-active-color-success btn-sm">Message</a></div></td><td><div class="d-flex justify-content-end flex-shrink-0"><a href="/calltechnician/'+value.phone+'" style="color:white" class="btn btn-bg-info btn-active-color-primary btn-sm">Call</a></div></td></tr>'												
     );
  });
                                   // Swal.fire("Success", 'Scroll down to see technicians found', 'success');
                                    console.log(data)
									//window.location.reload();

                                },
                                error: function(data) {
									Swal.fire('error','Opps, unable to fetch technicians','error')
                                    console.log(data);
                                  //  Swal.fire('Oops', 'Something went wrong','error')
                                }
                            });
						});

                       



            })
	</script>
	<!--end::Page Custom Javascript-->
	<!--end::Javascript-->
	<!--Begin::Google Tag Manager (noscript) -->
	<noscript>
		<iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5FS8GGP" height="0" width="0"
			style="display:none;visibility:hidden"></iframe>
	</noscript>
	<!--End::Google Tag Manager (noscript) -->
</body>
<!--end::Body-->

</html>